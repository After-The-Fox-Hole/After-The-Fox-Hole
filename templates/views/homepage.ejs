<!DOCTYPE html>
<html>
<head>
    <title>Homepage</title>
</head>

<body class="bodyBack">
<%- include('../partials/header', ({user}))%>

<div class="container my-5">
    <div class="card" id="testCard">
        <div class="card-header ">
            <ul class="nav nav-tabs card-header-tabs nav-fill">
                <li class="nav-item ">
                    <a class="nav-link active feedControl tabbing " href="#fireteam" data-toggle="tab" id="fireTab">Fireteam</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link  feedControl tabbing" href="#all" data-toggle="tab" id="scoutTab">Scouting</a>
                </li>
            </ul>
        </div>
        <div class="card-body">
            <!-- Filter Selector -->
            <div class="row px-3">
                <div class="form-group col-lg-3 px-2">
                    <label class="filterSort" for="type">Type Filter:</label>
                    <select class="form-control feedControl theseAreCards" id="type" name="type">
                        <option value="post">Posts</option>
                        <option value="event">Events</option>
                    </select>
                </div>
                <div class="form-group col-lg-3 px-2">
                    <label class="filterSort" for="sort">Sorting:</label>
                    <select class="form-control feedControl theseAreCards" id="sort" name="sort">
                        <option value="timeCreated">Newest First</option>
                        <option value="latestComment">Most Recent Activity</option>
                        <option value="commentCount">Most Popular</option>
                        <option value="votes">Most Upvotes</option>
                    </select>

                </div>
                <div class="form-group col-lg-6 px-2">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="row">
                                <label class="filterSort" for="dropdownMenuButton">Tags:</label>
                            </div>
                            <div class="row">
                                <div class="dropdown d-grid">
                                    <button class="btn btn-primary dropdown-toggle buttonStyle pt-2 pb-1" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
                                        Tags
                                    </button>
                                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton" id="tagsList"></ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-9 pe-4">
                            <label class="filterSort" for="search">Search:</label>
                            <div class="row">
                                <div class="col-9 pe-0">
                                    <input type="text" class="form-control theseAreCards" id="search" name="search" placeholder="Enter search term...">
                                </div>
                                <div class="col-3 d-grid pe-0">
                                    <button id="search-btn" class="btn btn-primary buttonStyle pt-2 pb-1">Search</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div><br></div>
            <!-- Post and Event Feed -->
            <div class="ps-2" id="tabCards">
                <div class="tab-content">

                    <div class="tab-pane fade show active feedTab" id="fireteam">

                    </div>
                    <div class="tab-pane fade contentCards feedTab" id="all">

                    </div>
                </div>
                <script>
                    let tabbing = document.querySelectorAll(".tabbing");
                    tabbing.forEach(function(tab){
                        tab.addEventListener("click", function(){
                            let tabs = [document.getElementById("fireTab"), document.getElementById("scoutTab"), document.getElementById("all"), document.getElementById("fireteam")];
                            tabs.forEach(function(tab){
                                if (tab.classList.contains("active")){
                                    tab.classList.remove("active")
                                } else {
                                    tab.classList.add("active");
                                }
                            });
                            let tabBodies = [document.getElementById("all"), document.getElementById("fireteam")];
                            tabBodies.forEach(function(tab){
                                if (tab.classList.contains("show")){
                                    tab.classList.remove("show")
                                } else {
                                    tab.classList.add("show");
                                }
                            })
                        })
                    })
                </script>
                <!-- Pagination -->
                <div class="pagBtns">
                    <nav aria-label="Page navigation">
                        <ul class="pagination justify-content-center" id="paginationUl">
                            <li class="page-item disabled">
                                <a class="page-link navBtnStyle" href="#" tabindex="-1" aria-disabled="true">Previous</a>
                            </li>

                                <a class="page-link navBtnStyle" href="#">Next</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</div>

<%- include('../partials/footer')%>
<!-- Bootstrap JS -->
<script src="/assets/js/homepage.js"></script>
<script>
    if (isMobile) {
        $("#tabCards").addClass("mobileScreens");
    }

	// $(document).ready(function(){
	// 	let blocks = $(".changeTime")
	// 	for (let t of blocks){
	// 		let current = $(this).val()
	// 		const localDate = new Date(current);
	// 		const utcDate = new Date(localDate.getTime() + localDate.getTimezoneOffset() * 60000);
	// 		current=  utcDate.toISOString();
	// 		$(this).val(current)
	// 	}
    // })
</script>



</body>
</html>
